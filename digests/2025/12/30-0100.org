#+TITLE: HN Digest 2025-12-30 01:00:00 UT UTC
#+DATE: 2025-12-30T01:00:00Z
#+CURATOR: claude
#+SOURCE: https://hacker-news.firebaseio.com/v0/

* Vibe
Germany censors the internet, Steam games vanish, and Manus speedruns from launch to acquihire

* Highlights
- German ISPs quietly block 15 domains (39c3 has a talk about it)
- 1,038 Steam games gone forever, licensing is why we can't have nice things
- ManusAI: $500M valuation in April, Meta acquisition by December

* Stories

** List of domains censored by German ISPs :censorship:germany:internet:dns:
:PROPERTIES:
:ID:       46423566
:URL:      https://cuiiliste.de/domains
:HN_URL:   https://news.ycombinator.com/item?id=46423566
:POINTS:   284
:COMMENTS: 113
:BY:       elcapitan
:END:

*** TLDR
CUII, a German internet censorship body, has blocked 15 domains including streaming sites (bs.to, buffstreams.sx) and book archives (annas-archive variants). The blocks are DNS-based, meaning anyone using non-ISP DNS bypasses them entirely. A 39c3 talk tomorrow covers this in detail.

*** Take
The Germans built a censorship list that only works if you're too lazy to change your DNS. They're basically relying on user ignorance as an enforcement mechanism, which is both hilarious and concerning.

*** Comments

**** elcapitan
:PROPERTIES:
:COMMENT_ID: 46423567
:END:
39c3 talk about this tomorrow (in German, but usually available with English translation)

**** sccxy
:PROPERTIES:
:COMMENT_ID: 46423568
:END:
So it is a collection of the best pirate sites?

**** Semaphor
:PROPERTIES:
:COMMENT_ID: 46423569
:END:
For those wondering: it's DNS blocks, so only affecting those using ISP DNS.

*** i18n                                                  :i18n:

**** zh
:PROPERTIES:
:LANG: zh
:END:
***** Title
德国网络运营商屏蔽的域名列表
***** TLDR
德国互联网审查机构CUII已屏蔽15个域名，包括流媒体网站和电子书档案网站。这些是DNS层面的屏蔽，使用非运营商DNS即可绕过。39c3明天有相关演讲。
***** Take
德国人建了个只有懒得改DNS的人才会被影响的审查名单。他们基本上依靠用户无知来执法，既好笑又令人担忧。
***** Comments
- 明天39c3有关于此的演讲（德语，但通常有英文翻译）
- 所以这是最佳盗版网站合集？
- 给好奇的人：这是DNS屏蔽，只影响使用运营商DNS的人。
**** ja
:PROPERTIES:
:LANG: ja
:END:
***** Title
ドイツのISPがブロックしているドメイン一覧
***** TLDR
ドイツのインターネット検閲機関CUIIが15のドメインをブロック。ストリーミングサイトや電子書籍アーカイブが対象。DNSブロックなので、ISP以外のDNSを使えば回避可能。明日39c3で講演あり。
***** Take
ドイツ人はDNSを変更する気がない人にしか効かない検閲リストを作った。ユーザーの無知に頼った執行という、笑えるが心配な仕組み。
***** Comments
- 明日39c3でこの件の講演あり（ドイツ語だが英語翻訳あり）
- つまり最高の海賊サイト一覧？
- 補足：DNSブロックなのでISPのDNSを使っている人だけが影響を受ける。
**** ko
:PROPERTIES:
:LANG: ko
:END:
***** Title
독일 ISP가 차단한 도메인 목록
***** TLDR
독일 인터넷 검열 기관 CUII가 스트리밍 사이트와 전자책 아카이브 등 15개 도메인을 차단했다. DNS 차단이라 ISP DNS를 안 쓰면 우회 가능. 내일 39c3에서 관련 발표 예정.
***** Take
독일인들이 DNS 바꾸기 귀찮은 사람들만 걸리는 검열 목록을 만들었다. 사용자 무지에 의존한 집행이라니, 웃기면서도 걱정된다.
***** Comments
- 내일 39c3에서 이 주제 발표 있음 (독일어지만 영어 번역 제공)
- 그래서 이게 최고의 해적 사이트 모음집?
- 참고: DNS 차단이라 ISP DNS 쓰는 사람만 영향받음.
**** es
:PROPERTIES:
:LANG: es
:END:
***** Title
Lista de dominios censurados por ISPs alemanes
***** TLDR
CUII, organismo de censura alemán, ha bloqueado 15 dominios incluyendo sitios de streaming y archivos de libros. Son bloqueos DNS, así que usar otro DNS los esquiva. Mañana hay charla en 39c3 sobre esto.
***** Take
Los alemanes construyeron una lista de censura que solo funciona si eres demasiado perezoso para cambiar tu DNS. Dependen de la ignorancia del usuario como mecanismo de aplicación, lo cual es gracioso y preocupante.
***** Comments
- Mañana hay charla sobre esto en 39c3 (en alemán, pero suele haber traducción al inglés)
- ¿Entonces es una colección de los mejores sitios piratas?
- Para los curiosos: son bloqueos DNS, solo afectan a quienes usan DNS del ISP.
**** de
:PROPERTIES:
:LANG: de
:END:
***** Title
Liste der von deutschen ISPs zensierten Domains
***** TLDR
Die CUII hat 15 Domains gesperrt, darunter Streaming-Seiten und Bucharchive. Es sind DNS-Sperren, die mit alternativen DNS-Servern umgangen werden können. Morgen gibt es einen 39c3-Vortrag dazu.
***** Take
Die Deutschen haben eine Zensurliste gebaut, die nur funktioniert, wenn man zu faul ist, seinen DNS zu ändern. Sie verlassen sich auf die Unwissenheit der Nutzer als Durchsetzungsmechanismus, was gleichzeitig lustig und besorgniserregend ist.
***** Comments
- Morgen 39c3-Vortrag dazu (auf Deutsch, aber meist mit englischer Übersetzung)
- Also eine Sammlung der besten Piratenseiten?
- Für Interessierte: Es sind DNS-Sperren, betreffen also nur die, die den ISP-DNS nutzen.
** All Delisted Steam Games :gaming:steam:digital-rights:licensing:
:PROPERTIES:
:ID:       46424262
:URL:      https://delistedgames.com/all-delisted-steam-games/
:HN_URL:   https://news.ycombinator.com/item?id=46424262
:POINTS:   177
:COMMENTS: 72
:BY:       Bondi_Blue
:END:

*** TLDR
A comprehensive list of 1,038 games removed from Steam. Includes major titles like GTA entries, Rocket League, Sonic games, and Deadpool. Main reasons: licensing expiration (especially for games with real cars, music, or IP), publisher decisions, and online service shutdowns.

*** Take
The gaming industry's answer to 'you will own nothing and be happy.' Buy a digital game with licensed cars and wait for the lawyers to delete it from existence. At least with physical media you could play it badly on an emulator.

*** Comments

**** 0xC0ncord
:PROPERTIES:
:COMMENT_ID: 46424263
:END:
To me this is one of the most egregious examples of how licensing massively hurts consumers. The game is fully playable but impossible to acquire legally.

**** AnotherGoodName
:PROPERTIES:
:COMMENT_ID: 46424264
:END:
It's funny that 3 different Space Hulk games are here. Hard for a developer to keep up the yearly license payments on any Warhammer franchise.

**** shantara
:PROPERTIES:
:COMMENT_ID: 46424265
:END:
Prey (2006) - great game with innovative level design involving portals and gravity manipulation. Delisted back in 2009 and impossible to acquire legally to this day.

*** i18n                                                  :i18n:

**** zh
:PROPERTIES:
:LANG: zh
:END:
***** Title
Steam已下架游戏完整列表
***** TLDR
共1,038款游戏从Steam下架，包括GTA系列、火箭联盟、索尼克等大作。主要原因：授权到期（尤其是有真实汽车、音乐或IP的游戏）、发行商决定、在线服务关闭。
***** Take
游戏行业对'你将一无所有并感到快乐'的诠释。买个有授权汽车的数字游戏，等着律师把它从存在中删除。至少实体媒体还能在模拟器上勉强玩。
***** Comments
- 这是授权如何严重伤害消费者的最恶劣例子之一。游戏完全可玩但无法合法获取。
- 有趣的是这里有3款不同的太空战锤游戏。开发商很难跟上战锤系列每年的授权费。
- 掠食者(2006)——创新的关卡设计，有传送门和重力操控。2009年下架，至今无法合法获取。
**** ja
:PROPERTIES:
:LANG: ja
:END:
***** Title
Steam配信停止ゲーム全リスト
***** TLDR
Steamから削除された1,038本のゲーム一覧。GTA、ロケットリーグ、ソニックなど大作含む。主な理由：ライセンス期限切れ（特に実在の車、音楽、IP使用のゲーム）、パブリッシャー判断、オンラインサービス終了。
***** Take
ゲーム業界版「何も所有せず幸せになれ」。ライセンス車を使ったデジタルゲームを買って、弁護士がそれを消すのを待つ。少なくとも物理メディアならエミュレータで下手にでもプレイできた。
***** Comments
- ライセンスが消費者を著しく害する最悪の例の一つ。ゲームは完全にプレイ可能なのに合法的に入手不可能。
- 面白いことにスペースハルクが3作もある。ウォーハンマーの年間ライセンス料を払い続けるのは開発者には厳しい。
- Prey(2006)—ポータルと重力操作を使った革新的なレベルデザイン。2009年に配信停止、今日まで合法的に入手不可能。
**** ko
:PROPERTIES:
:LANG: ko
:END:
***** Title
Steam에서 삭제된 모든 게임 목록
***** TLDR
Steam에서 삭제된 1,038개 게임 목록. GTA, 로켓 리그, 소닉 등 대작 포함. 주요 이유: 라이선스 만료(특히 실제 자동차, 음악, IP 게임), 퍼블리셔 결정, 온라인 서비스 종료.
***** Take
게임 업계판 '아무것도 소유하지 말고 행복하라'. 라이선스 자동차가 있는 디지털 게임을 사서 변호사들이 삭제할 때까지 기다려라. 적어도 물리적 미디어는 에뮬레이터에서 대충이라도 플레이할 수 있었다.
***** Comments
- 라이선스가 소비자를 해치는 가장 심각한 예시 중 하나. 게임은 완전히 플레이 가능한데 합법적으로 구할 수 없다.
- 재미있게도 스페이스 헐크 게임이 3개나 있다. 워해머 프랜차이즈 연간 라이선스 비용 감당하기 어렵다.
- 프레이(2006) - 포탈과 중력 조작을 활용한 혁신적 레벨 디자인. 2009년 삭제 후 현재까지 합법적 구매 불가.
**** es
:PROPERTIES:
:LANG: es
:END:
***** Title
Todos los juegos eliminados de Steam
***** TLDR
Lista de 1,038 juegos eliminados de Steam. Incluye títulos importantes como GTA, Rocket League y Sonic. Razones principales: expiración de licencias (especialmente juegos con coches reales, música o IP), decisiones de editores, cierre de servicios online.
***** Take
La respuesta de la industria del gaming a 'no poseerás nada y serás feliz'. Compra un juego digital con coches licenciados y espera a que los abogados lo borren de la existencia. Al menos con medios físicos podías jugarlo mal en un emulador.
***** Comments
- Este es uno de los ejemplos más atroces de cómo las licencias perjudican masivamente a los consumidores. El juego es jugable pero imposible de adquirir legalmente.
- Es curioso que haya 3 juegos diferentes de Space Hulk aquí. Difícil para un desarrollador mantener los pagos anuales de licencia de cualquier franquicia de Warhammer.
- Prey (2006) - gran juego con diseño de niveles innovador usando portales y manipulación de gravedad. Eliminado en 2009 e imposible de adquirir legalmente hasta hoy.
**** de
:PROPERTIES:
:LANG: de
:END:
***** Title
Alle von Steam entfernten Spiele
***** TLDR
Liste von 1.038 von Steam entfernten Spielen. Darunter Großtitel wie GTA, Rocket League und Sonic. Hauptgründe: Lizenzablauf (besonders bei Spielen mit echten Autos, Musik oder IP), Publisher-Entscheidungen, Abschaltung von Online-Diensten.
***** Take
Die Antwort der Gaming-Industrie auf 'Du wirst nichts besitzen und glücklich sein'. Kauf ein digitales Spiel mit lizenzierten Autos und warte, bis die Anwälte es aus der Existenz löschen. Wenigstens konnte man mit physischen Medien schlecht auf einem Emulator spielen.
***** Comments
- Eines der schlimmsten Beispiele dafür, wie Lizenzierung Verbraucher massiv schadet. Das Spiel ist voll spielbar, aber unmöglich legal zu erwerben.
- Lustig, dass hier 3 verschiedene Space Hulk-Spiele sind. Schwer für Entwickler, die jährlichen Lizenzgebühren für Warhammer-Franchises aufzubringen.
- Prey (2006) - tolles Spiel mit innovativem Level-Design mit Portalen und Gravitationsmanipulation. 2009 entfernt und bis heute nicht legal erhältlich.
** ManusAI Joins Meta :ai:acquisition:meta:startup:
:PROPERTIES:
:ID:       46426534
:URL:      https://manus.im/blog/manus-joins-meta-for-next-era-of-innovation
:HN_URL:   https://news.ycombinator.com/item?id=46426534
:POINTS:   99
:COMMENTS: 54
:BY:       gniting
:END:

*** TLDR
Manus, an AI agent startup that launched in March 2025, raised $75M at $500M valuation in April, and is now being acquired by Meta before year's end. They claim 147 trillion tokens processed and 80 million virtual computers created. Will continue operating from Singapore.

*** Take
From launch to half-billion valuation to Meta acquisition in under 9 months. Either Manus cracked AGI or Silicon Valley's acquihire machinery has achieved sentience and is just reflexively absorbing anything with 'AI agent' in the pitch deck.

*** Comments

**** kylecazar
:PROPERTIES:
:COMMENT_ID: 46426535
:END:
Half a billion a month after launch and acquisition before the end of the same year. Wild times.

**** varunramesh
:PROPERTIES:
:COMMENT_ID: 46426536
:END:
It's everywhere. (links to Reddit discussion)

**** equasar
:PROPERTIES:
:COMMENT_ID: 46426537
:END:
These valuations are to the point that this looks too close to money laundering, just like buying art.

*** i18n                                                  :i18n:

**** zh
:PROPERTIES:
:LANG: zh
:END:
***** Title
ManusAI加入Meta
***** TLDR
AI代理初创公司Manus于2025年3月推出，4月以5亿美元估值融资7500万美元，年底前被Meta收购。声称处理了147万亿token，创建了8000万个虚拟计算机。将继续在新加坡运营。
***** Take
从发布到5亿估值再到被Meta收购，不到9个月。要么Manus破解了AGI，要么硅谷的收购机器已经有了自我意识，正在反射性地吸收任何PPT里有'AI代理'的东西。
***** Comments
- 发布一个月后估值5亿，同年就被收购。疯狂的时代。
- 到处都是。（链接到Reddit讨论）
- 这些估值已经太像洗钱了，就像买艺术品一样。
**** ja
:PROPERTIES:
:LANG: ja
:END:
***** Title
ManusAIがMetaに参加
***** TLDR
2025年3月にローンチしたAIエージェントスタートアップManus。4月に5億ドル評価で7500万ドル調達、年末前にMeta買収。147兆トークン処理、8000万の仮想コンピュータ作成と主張。シンガポールで事業継続。
***** Take
ローンチから5億ドル評価、Meta買収まで9ヶ月足らず。ManusがAGIを解明したか、シリコンバレーの買収マシンが意識を持ち、ピッチデッキに「AIエージェント」とあるものを反射的に吸収しているか。
***** Comments
- ローンチ1ヶ月後に5億ドル、同年中に買収。すごい時代だ。
- あちこちで見かける。（Redditの議論へのリンク）
- これらの評価額はマネーロンダリングに近い。アート購入と同じ。
**** ko
:PROPERTIES:
:LANG: ko
:END:
***** Title
ManusAI가 Meta에 합류
***** TLDR
2025년 3월 출시한 AI 에이전트 스타트업 Manus가 4월에 5억 달러 가치로 7500만 달러를 조달하고 연말 전에 Meta에 인수됐다. 147조 토큰 처리, 8000만 개 가상 컴퓨터 생성 주장. 싱가포르에서 계속 운영 예정.
***** Take
출시에서 5억 달러 가치 평가, Meta 인수까지 9개월도 안 걸렸다. Manus가 AGI를 해결했거나, 실리콘밸리의 인수 기계가 의식을 갖고 피치덱에 'AI 에이전트'가 있는 것은 뭐든 반사적으로 흡수하고 있거나.
***** Comments
- 출시 한 달 만에 5억 달러, 같은 해에 인수. 미친 시대다.
- 어디서나 보인다. (Reddit 토론 링크)
- 이 가치 평가들은 돈세탁에 가깝다. 미술품 구매처럼.
**** es
:PROPERTIES:
:LANG: es
:END:
***** Title
ManusAI se une a Meta
***** TLDR
Manus, startup de agentes IA lanzada en marzo 2025, recaudó $75M con valoración de $500M en abril, y ahora es adquirida por Meta antes de fin de año. Afirman haber procesado 147 billones de tokens y creado 80 millones de computadoras virtuales. Seguirán operando desde Singapur.
***** Take
De lanzamiento a valoración de medio billón a adquisición por Meta en menos de 9 meses. O Manus descifró la AGI o la maquinaria de acqui-hire de Silicon Valley ha alcanzado consciencia y está absorbiendo reflexivamente cualquier cosa con 'agente IA' en el pitch.
***** Comments
- Medio billón un mes después del lanzamiento y adquisición antes de fin de año. Tiempos locos.
- Está por todas partes. (enlace a discusión de Reddit)
- Estas valoraciones están tan cerca del lavado de dinero como comprar arte.
**** de
:PROPERTIES:
:LANG: de
:END:
***** Title
ManusAI schließt sich Meta an
***** TLDR
Manus, ein KI-Agenten-Startup, das im März 2025 startete, sammelte im April $75M bei $500M Bewertung ein und wird nun vor Jahresende von Meta übernommen. Sie behaupten, 147 Billionen Tokens verarbeitet und 80 Millionen virtuelle Computer erstellt zu haben. Betrieb wird von Singapur aus fortgesetzt.
***** Take
Von Launch zu einer halben Milliarde Bewertung zu Meta-Übernahme in unter 9 Monaten. Entweder hat Manus AGI geknackt oder Silicon Valleys Acqui-Hire-Maschinerie hat Bewusstsein erlangt und absorbiert reflexartig alles mit 'KI-Agent' im Pitch Deck.
***** Comments
- Eine halbe Milliarde einen Monat nach Launch und Übernahme vor Jahresende. Verrückte Zeiten.
- Es ist überall. (Link zur Reddit-Diskussion)
- Diese Bewertungen sind so nah an Geldwäsche wie Kunstkauf.
** A production bug that made me care about undefined behavior :cpp:programming:bugs:undefined-behavior:
:PROPERTIES:
:ID:       46423521
:URL:      https://gaultier.github.io/blog/the_production_bug_that_made_me_care_about_undefined_behavior.html
:HN_URL:   https://news.ycombinator.com/item?id=46423521
:POINTS:   96
:COMMENTS: 58
:BY:       birdculture
:END:

*** TLDR
A payment processing bug where a Response struct had both 'error' and 'succeeded' set to true simultaneously. Root cause: C++ default initialization rules left boolean fields uninitialized when the struct contained a std::string. Fix: always use brace initialization (Response response{};) or explicit default constructors.

*** Take
C++ remains the only language where 'I declared a boolean' doesn't mean you have a boolean. You have a Schrödinger's bool that's simultaneously true, false, and whatever garbage was in that memory location.

*** Comments

**** nneonneo
:PROPERTIES:
:COMMENT_ID: 46423522
:END:
Even calling uninitialized data 'garbage' is misleading. The compiler can and absolutely will optimize by assuming the values are whatever would be most convenient for optimization.

**** panstromek
:PROPERTIES:
:COMMENT_ID: 46423523
:END:
The biggest footgun is when the struct goes from POD to non-POD or vice-versa, the rules change, so a completely innocent change can create undefined behaviour.

**** MutableLambda
:PROPERTIES:
:COMMENT_ID: 46423524
:END:
Looks pretty straightforward to me, but I used to write C++ for a living. Just init the fields to false.

*** i18n                                                  :i18n:

**** zh
:PROPERTIES:
:LANG: zh
:END:
***** Title
一个让我开始重视未定义行为的生产环境bug
***** TLDR
支付处理bug：Response结构体同时将'error'和'succeeded'设为true。根本原因：当结构体包含std::string时，C++默认初始化规则让布尔字段未初始化。修复：始终使用花括号初始化（Response response{};）或显式默认构造函数。
***** Take
C++仍然是唯一一个'我声明了一个布尔值'不意味着你有一个布尔值的语言。你有一个薛定谔的布尔，同时是true、false和那个内存位置的任何垃圾。
***** Comments
- 说未初始化数据是'垃圾'都有误导性。编译器绝对会假设值是对优化最有利的任何值来进行优化。
- 最大的坑是当结构体从POD变为非POD或反过来时，规则改变，所以一个完全无辜的改动可能创造未定义行为。
- 对我来说很简单，但我以前靠写C++谋生。把字段初始化为false就行。
**** ja
:PROPERTIES:
:LANG: ja
:END:
***** Title
未定義動作を気にするようになった本番バグ
***** TLDR
決済処理バグ：Response構造体で'error'と'succeeded'が同時にtrueに。原因：構造体にstd::stringが含まれると、C++のデフォルト初期化ルールでboolフィールドが未初期化のまま。修正：常に波括弧初期化(Response response{};)か明示的デフォルトコンストラクタを使う。
***** Take
C++は今でも「boolを宣言した」がboolを持っていることを意味しない唯一の言語。シュレディンガーのboolで、true、false、そのメモリにあったゴミが同時に存在する。
***** Comments
- 未初期化データを「ゴミ」と呼ぶのも誤解を招く。コンパイラは最適化に都合の良い値を仮定して絶対に最適化する。
- 最大の落とし穴は構造体がPODから非PODまたはその逆に変わると規則が変わること。全く無害な変更が未定義動作を生む可能性がある。
- 私には簡単に見える。C++で生計を立てていたから。フィールドをfalseに初期化すればいい。
**** ko
:PROPERTIES:
:LANG: ko
:END:
***** Title
미정의 동작을 신경 쓰게 만든 프로덕션 버그
***** TLDR
결제 처리 버그: Response 구조체에서 'error'와 'succeeded'가 동시에 true. 원인: 구조체에 std::string이 있으면 C++ 기본 초기화 규칙이 bool 필드를 초기화하지 않음. 해결: 항상 중괄호 초기화(Response response{};) 또는 명시적 기본 생성자 사용.
***** Take
C++는 여전히 '불리언을 선언했다'가 불리언을 갖고 있다는 뜻이 아닌 유일한 언어다. 동시에 true, false, 그리고 그 메모리에 있던 쓰레기인 슈뢰딩거의 불이다.
***** Comments
- 초기화되지 않은 데이터를 '쓰레기'라고 부르는 것도 오해의 소지가 있다. 컴파일러는 최적화에 가장 편리한 값을 가정하고 확실히 최적화한다.
- 가장 큰 함정은 구조체가 POD에서 비POD로 또는 그 반대로 바뀔 때 규칙이 바뀌어서 완전히 무해한 변경이 미정의 동작을 만들 수 있다.
- 나한테는 간단해 보인다. C++로 먹고 살았으니까. 필드를 false로 초기화하면 된다.
**** es
:PROPERTIES:
:LANG: es
:END:
***** Title
Un bug en producción que me hizo preocuparme por el comportamiento indefinido
***** TLDR
Bug de procesamiento de pagos: un struct Response tenía 'error' y 'succeeded' en true simultáneamente. Causa raíz: las reglas de inicialización por defecto de C++ dejaban los campos booleanos sin inicializar cuando el struct contenía un std::string. Solución: siempre usar inicialización con llaves (Response response{};) o constructores por defecto explícitos.
***** Take
C++ sigue siendo el único lenguaje donde 'declaré un booleano' no significa que tienes un booleano. Tienes un bool de Schrödinger que es simultáneamente true, false y cualquier basura que estaba en esa ubicación de memoria.
***** Comments
- Incluso llamar 'basura' a datos no inicializados es engañoso. El compilador puede y absolutamente optimizará asumiendo que los valores son lo más conveniente para la optimización.
- El mayor problema es cuando el struct pasa de POD a no-POD o viceversa, las reglas cambian, así que un cambio completamente inocente puede crear comportamiento indefinido.
- Me parece bastante directo, pero solía escribir C++ profesionalmente. Solo inicializa los campos a false.
**** de
:PROPERTIES:
:LANG: de
:END:
***** Title
Ein Produktionsfehler, der mich für undefiniertes Verhalten sensibilisiert hat
***** TLDR
Zahlungsverarbeitungsfehler: Ein Response-Struct hatte 'error' und 'succeeded' gleichzeitig auf true. Ursache: C++ Default-Initialisierungsregeln ließen Boolean-Felder uninitialisiert, wenn das Struct einen std::string enthielt. Lösung: Immer Klammer-Initialisierung (Response response{};) oder explizite Default-Konstruktoren verwenden.
***** Take
C++ bleibt die einzige Sprache, wo 'ich habe einen Boolean deklariert' nicht bedeutet, dass man einen Boolean hat. Man hat einen Schrödinger-Bool, der gleichzeitig true, false und was auch immer in dieser Speicherstelle war, ist.
***** Comments
- Selbst 'Müll' für uninitialisierte Daten zu sagen ist irreführend. Der Compiler kann und wird absolut optimieren, indem er annimmt, dass die Werte das sind, was für die Optimierung am bequemsten ist.
- Die größte Falle ist, wenn das Struct von POD zu Nicht-POD wechselt oder umgekehrt, ändern sich die Regeln, sodass eine völlig unschuldige Änderung undefiniertes Verhalten erzeugen kann.
- Sieht für mich ziemlich einfach aus, aber ich habe früher C++ beruflich geschrieben. Initialisiere die Felder einfach auf false.
** Static Allocation with Zig :zig:programming:memory:database:
:PROPERTIES:
:ID:       46422009
:URL:      https://nickmonad.blog/2025/static-allocation-with-zig-kv/
:HN_URL:   https://news.ycombinator.com/item?id=46422009
:POINTS:   154
:COMMENTS: 78
:BY:       todsacerdoti
:END:

*** TLDR
Building a key-value store with Zig using TigerBeetle's static allocation philosophy: all memory allocated at startup, zero runtime allocation. Uses fixed pools for connections and buffers, FixedBufferAllocator for parsing, and unmanaged hashmaps. Result: ~750MB pre-allocated, predictable performance, simpler design.

*** Take
When your database philosophy is 'just allocate 750MB at startup and never touch malloc again,' you've either achieved memory enlightenment or you're running on a server with RAM to spare. Probably both.

*** Comments

**** MatthiasPortzel
:PROPERTIES:
:COMMENT_ID: 46422010
:END:
Static allocation means they limit the number of resources in memory at once. One of the points is that these things are limited in practice anyways.

**** leumassuehtam
:PROPERTIES:
:COMMENT_ID: 46422011
:END:
All memory must be statically allocated at startup. No memory may be dynamically allocated after initialization. This avoids unpredictable behavior.

**** Zambyte
:PROPERTIES:
:COMMENT_ID: 46422012
:END:
I'm doing pretty much this exact pattern with NATS right now instead of Redis. The Zig ecosystem follows the pattern to pass the Allocator interface around.

*** i18n                                                  :i18n:

**** zh
:PROPERTIES:
:LANG: zh
:END:
***** Title
使用Zig进行静态分配
***** TLDR
使用TigerBeetle的静态分配理念用Zig构建键值存储：启动时分配所有内存，运行时零分配。使用固定池管理连接和缓冲区，FixedBufferAllocator用于解析，无托管哈希映射。结果：约750MB预分配，可预测的性能，更简单的设计。
***** Take
当你的数据库理念是'启动时分配750MB然后永远不碰malloc'，你要么达到了内存开悟，要么你的服务器RAM充足。可能两者都是。
***** Comments
- 静态分配意味着他们限制内存中的资源数量。关键是这些东西在实践中本来就是有限的。
- 所有内存必须在启动时静态分配。初始化后不能动态分配内存。这避免了不可预测的行为。
- 我现在正在用NATS而不是Redis做完全相同的模式。Zig生态系统遵循传递Allocator接口的模式。
**** ja
:PROPERTIES:
:LANG: ja
:END:
***** Title
Zigによる静的アロケーション
***** TLDR
TigerBeetleの静的アロケーション哲学でZigを使ってKVストアを構築：起動時に全メモリ割り当て、ランタイムでのアロケーションゼロ。接続とバッファに固定プール、パース用にFixedBufferAllocator、アンマネージドハッシュマップ使用。結果：約750MB事前割り当て、予測可能なパフォーマンス、シンプルな設計。
***** Take
「起動時に750MB割り当ててもうmallocには触らない」がデータベース哲学なら、メモリの悟りを開いたか、RAMに余裕のあるサーバーで動かしているか。たぶん両方。
***** Comments
- 静的アロケーションはメモリ内リソース数を制限する。ポイントはこれらは実際には元々制限されているということ。
- 全メモリは起動時に静的に割り当てなければならない。初期化後の動的割り当ては禁止。これで予測不能な動作を回避。
- 今まさにRedisの代わりにNATSでこのパターンをやっている。ZigエコシステムはAllocatorインターフェースを渡すパターンに従っている。
**** ko
:PROPERTIES:
:LANG: ko
:END:
***** Title
Zig로 정적 할당하기
***** TLDR
TigerBeetle의 정적 할당 철학으로 Zig를 사용해 KV 스토어 구축: 시작 시 모든 메모리 할당, 런타임 할당 제로. 연결과 버퍼에 고정 풀, 파싱에 FixedBufferAllocator, 비관리 해시맵 사용. 결과: 약 750MB 사전 할당, 예측 가능한 성능, 단순한 설계.
***** Take
데이터베이스 철학이 '시작할 때 750MB 할당하고 다시는 malloc 건드리지 마'라면, 메모리 깨달음에 도달했거나 RAM 넉넉한 서버에서 돌리고 있거나. 아마 둘 다.
***** Comments
- 정적 할당은 메모리 내 리소스 수를 제한한다. 핵심은 이것들이 실제로는 어차피 제한되어 있다는 것.
- 모든 메모리는 시작 시 정적으로 할당되어야 한다. 초기화 후 동적 할당 금지. 이로써 예측 불가능한 동작을 피한다.
- 지금 Redis 대신 NATS로 정확히 이 패턴을 쓰고 있다. Zig 생태계는 Allocator 인터페이스를 전달하는 패턴을 따른다.
**** es
:PROPERTIES:
:LANG: es
:END:
***** Title
Asignación estática con Zig
***** TLDR
Construyendo un almacén clave-valor con Zig usando la filosofía de asignación estática de TigerBeetle: toda la memoria asignada al inicio, cero asignación en tiempo de ejecución. Usa pools fijos para conexiones y buffers, FixedBufferAllocator para parsing, y hashmaps no gestionados. Resultado: ~750MB preasignados, rendimiento predecible, diseño más simple.
***** Take
Cuando tu filosofía de base de datos es 'asigna 750MB al inicio y nunca toques malloc de nuevo', o has alcanzado la iluminación de memoria o estás ejecutando en un servidor con RAM de sobra. Probablemente ambas.
***** Comments
- Asignación estática significa que limitan el número de recursos en memoria a la vez. Uno de los puntos es que estas cosas están limitadas en la práctica de todos modos.
- Toda la memoria debe asignarse estáticamente al inicio. No se puede asignar memoria dinámicamente después de la inicialización. Esto evita comportamiento impredecible.
- Estoy haciendo exactamente este patrón con NATS ahora en lugar de Redis. El ecosistema Zig sigue el patrón de pasar la interfaz Allocator.
**** de
:PROPERTIES:
:LANG: de
:END:
***** Title
Statische Allokation mit Zig
***** TLDR
Bau eines Key-Value-Stores mit Zig nach TigerBeetles statischer Allokationsphilosophie: Alle Speicherallokation beim Start, null Laufzeit-Allokation. Verwendet feste Pools für Verbindungen und Puffer, FixedBufferAllocator fürs Parsen, und unverwaltete Hashmaps. Ergebnis: ~750MB vorallokiert, vorhersagbare Performance, einfacheres Design.
***** Take
Wenn deine Datenbank-Philosophie ist 'allokiere 750MB beim Start und berühre nie wieder malloc', hast du entweder Speicher-Erleuchtung erreicht oder du läufst auf einem Server mit RAM im Überfluss. Wahrscheinlich beides.
***** Comments
- Statische Allokation bedeutet, sie begrenzen die Anzahl der Ressourcen im Speicher gleichzeitig. Ein Punkt ist, dass diese Dinge in der Praxis sowieso begrenzt sind.
- Aller Speicher muss beim Start statisch allokiert werden. Nach der Initialisierung darf kein Speicher dynamisch allokiert werden. Dies vermeidet unvorhersagbares Verhalten.
- Ich mache gerade genau dieses Muster mit NATS statt Redis. Das Zig-Ökosystem folgt dem Muster, das Allocator-Interface herumzureichen.